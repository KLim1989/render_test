<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sample FirebaseUI App</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>

    <script type="text/javascript">
        const firebaseConfig = {
      apiKey: "AIzaSyBodTVXEUFLFtA1Hi4Y7Ut6VHz6mEezlKs",
      authDomain: "co-mobile-docs.firebaseapp.com",
      projectId: "co-mobile-docs",
      storageBucket: "co-mobile-docs.firebasestorage.app",
      messagingSenderId: "378184527150",
      appId: "1:378184527150:web:45095a844ab3ffe35c5ebf"
      };
        firebase.initializeApp(firebaseConfig);
        firebase.setLogLevel('debug');
    </script>

    <script src="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet"
          href="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.css"/>
    <script type="text/javascript">
        // FirebaseUI config.
        console.log("FirebaseUI config.");

        var uiConfig = {
    signInSuccessUrl: '/protected.html',
    signInOptions: [
        firebase.auth.GoogleAuthProvider.PROVIDER_ID,
    ],
    tosUrl: '<your-tos-url>',
    privacyPolicyUrl: function() {
        window.location.assign('<your-privacy-policy-url>');
    },
    callbacks: { // добавляем обработчики
        signInFailure: function(error) {
            console.error('Sign-in error:', error);
        }
    }
};

        // Initialize the FirebaseUI Widget using Firebase.
        console.log("Initialize the FirebaseUI Widget using Firebase.");

        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.
        ui.start('#firebaseui-auth-container', uiConfig);

        // onAuthStateChanged
        console.log("onAuthStateChanged");

        firebase.auth().onAuthStateChanged((user) => {
          if (user) {
            console.log("User is signed in:", user);
            // Redirect to the protected page
          } else {
            console.log("No user is signed in.");
          }
        });
    </script>
</head>
<body>
<!-- The surrounding HTML is left untouched by FirebaseUI.
     Your app may use that space for branding, controls and other customizations.-->
<h1>Welcome to My Awesome App</h1>
<div id="firebaseui-auth-container"></div>
</body>
</html>


